---
layout: post
title: "AWS API GATEWAY 사용량 계획 용어 정리"
description: "AWS API GATEWAY 사용량 계획의 요율/버스트/할당량에 대해 알아봅시다"
date: 2023-05-18
author: "김민석"
categories: [Data and Api]
tags: [aws,api,api gateway,aws api gateway,요율,버스트,할당량]
---
- 자체 개발한 Rest API의 앞단에 AWS API Gateway를 붙여서 사용하려고 합니다.
- AWS API Gateway를 이용하면, 인증과 관련된 구현을 따로 하지 않아도 되는 등의 장점이 있습니다.
- 또한 사용량을 통제하는 시스템 역시 따로 구현하지 않아도 되는데요
- API Gateway의 경우 API-KEY에 대응하는 사용량 계획을 설정할 수 있습니다. 이것을 이용해서 사용량을 통제할 수 있어요.
  - ![image](https://github.com/reddol18/dev5min/assets/15623847/b12574bf-187b-4eb9-a0a4-7990b37086f9)
  - 그럼 용어에 대해 설명해보겠습니다.
  
{% include adfit.html %}

  - 요율과 버스트 : 이 둘은 함께 고려해야 할 개념입니다. 
    - 요율에 입력된 초 당, 버스트에 입력된 요청건을 받아들이겠다는 의미로 생각하면 됩니다.
    - 예를들어 요율에 10, 버스트에 50을 입력하면 10초당 50요청까지만 받겠다는 의미에요.
    - 만약에 그 양을 넘어가면 어떻게 될까요? 429 응답 코드와 함께 {"message":"Too Many Requests"}가 전달됩니다.
    - 그리고 버스트의 경우 계정에 따른 한도가 있어요. 저 같은 경우에 5000건 이구요, 니는 요율에 따라 달라지지 않는것으로 보입니다.
  - 할당량 : 할당량은 선택한 기준기간 동안에 허용되는 요청건수를 의미합니다.
    - 일/주/월 단위로 설정할 수 있습니다.
    - 계획량을 넘어서면 역시 429 응답 코드와 함께 {"message":"Limit Exceeded"}가 전달됩니다.
    - 버스트와 다르게 한도가 있지는 않는것 같습니다.
  - 버스트와 할당량의 계획량이 넘어서서 API가 먹통이 되었을 때, 그 값을 수정해주면 다시 정상동작 합니다.

